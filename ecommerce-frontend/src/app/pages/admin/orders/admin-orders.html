<div class="p-8">
  <h1 class="text-3xl font-bold mb-8">Orders Management</h1>

  <div *ngIf="loading" class="text-center py-12">
    <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
  </div>

  <div *ngIf="!loading" class="space-y-6">
    <div *ngFor="let order of orders" class="bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all">
      <div class="flex items-center justify-between mb-4">
        <div>
          <p class="text-sm text-gray-600">Order #{{ order.id }}</p>
          <p class="text-xs text-gray-500 mt-1">{{ order.createdAt | date:'medium' }}</p>
        </div>
        <div class="flex items-center gap-4">
          <span [class]="'px-4 py-2 rounded-full text-sm font-semibold ' + getStatusColor(order.status)">
            {{ order.status }}
          </span>
          <select [(ngModel)]="order.status" (change)="updateStatus(order.id, order.status)" class="px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
            <option *ngFor="let status of statusOptions" [value]="status">{{ status }}</option>
          </select>
        </div>
      </div>

      <div class="border-t border-gray-200 pt-4">
        <p class="text-sm font-semibold text-gray-700 mb-2">Order Items:</p>
        <div class="space-y-2">
          <div *ngFor="let item of order.items" class="flex items-center gap-4 p-3 bg-gray-50 rounded-lg">
            <img [src]="item.productImage || 'https://via.placeholder.com/60'" [alt]="item.productName" class="w-12 h-12 object-cover rounded">
            <div class="flex-1">
              <p class="font-semibold text-gray-900">{{ item.productName }}</p>
              <p class="text-sm text-gray-600">Quantity: {{ item.quantity }} Ã— ${{ item.price }}</p>
            </div>
            <p class="font-bold text-gray-900">${{ (item.quantity * item.price).toFixed(2) }}</p>
          </div>
        </div>
      </div>

      <div class="border-t border-gray-200 pt-4 mt-4 flex items-center justify-between">
        <p class="text-lg font-semibold text-gray-700">Total Amount:</p>
        <p class="text-2xl font-bold text-blue-600">${{ order.totalAmount }}</p>
      </div>
    </div>

    <div *ngIf="orders.length === 0" class="text-center py-12 text-gray-600">
      No orders found.
    </div>
  </div>
</div>
