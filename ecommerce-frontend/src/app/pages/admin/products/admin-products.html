<div class="p-8">
  <div class="flex items-center justify-between mb-8">
    <div>
      <h1 class="text-3xl font-bold text-gray-900">Products Management</h1>
      <p class="text-gray-600 mt-2">Total: {{ totalElements }} products</p>
    </div>
    <a routerLink="/admin/products/add" class="px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all shadow-lg hover:shadow-xl transform hover:scale-105 font-semibold">
      + Add New Product
    </a>
  </div>

  <div *ngIf="loading" class="text-center py-12">
    <div class="inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div>
  </div>

  <div *ngIf="!loading" class="bg-white rounded-xl shadow-lg overflow-hidden">
    <table class="w-full">
      <thead class="bg-gray-50 border-b border-gray-200">
        <tr>
          <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Image</th>
          <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Name</th>
          <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Category</th>
          <th class="px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Price</th>
          <th class="px-6 py-4 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider">Actions</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-200">
        <tr *ngFor="let product of products" class="hover:bg-gray-50 transition-colors">
          <td class="px-6 py-4">
            <img [src]="product.imageUrl || 'https://via.placeholder.com/60'" [alt]="product.name" class="w-16 h-16 object-cover rounded-lg">
          </td>
          <td class="px-6 py-4">
            <p class="font-semibold text-gray-900">{{ product.name }}</p>
            <p class="text-sm text-gray-500 truncate max-w-xs">{{ product.description }}</p>
          </td>
          <td class="px-6 py-4">
            <span class="px-3 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full">
              {{ product.categoryName || 'N/A' }}
            </span>
          </td>
          <td class="px-6 py-4">
            <span class="text-lg font-bold text-gray-900">${{ product.price }}</span>
          </td>
          <td class="px-6 py-4 text-right">
            <div class="flex items-center justify-end gap-2">
              <a [routerLink]="['/admin/products/edit', product.id]" class="px-4 py-2 bg-blue-500 text-white text-sm rounded-lg hover:bg-blue-600 transition-colors">
                Edit
              </a>
              <button (click)="deleteProduct(product.id, product.name)" class="px-4 py-2 bg-red-500 text-white text-sm rounded-lg hover:bg-red-600 transition-colors">
                Delete
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>

    <!-- Pagination -->
    <div *ngIf="totalPages > 1" class="px-6 py-4 bg-gray-50 border-t border-gray-200 flex items-center justify-between">
      <button (click)="previousPage()" [disabled]="currentPage === 0" class="px-4 py-2 bg-white border rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">
        Previous
      </button>
      <span class="text-sm text-gray-600">
        Page {{ currentPage + 1 }} of {{ totalPages }}
      </span>
      <button (click)="nextPage()" [disabled]="currentPage >= totalPages - 1" class="px-4 py-2 bg-white border rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">
        Next
      </button>
    </div>
  </div>
</div>
