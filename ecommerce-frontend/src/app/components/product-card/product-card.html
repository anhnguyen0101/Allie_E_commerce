<div class="group relative bg-white rounded-2xl shadow-md hover:shadow-2xl transition-all duration-300 overflow-hidden transform hover:-translate-y-1">
  
  <!-- Wishlist Heart Icon -->
  <button 
    (click)="toggleWishlist($event)"
    class="absolute top-4 right-4 z-10 p-2 bg-white/90 backdrop-blur-sm rounded-full shadow-lg hover:scale-110 transition-all duration-300"
    [class.bg-red-50]="isInWishlist">
    <svg 
      class="w-6 h-6 transition-colors duration-300" 
      [class.text-red-500]="isInWishlist"
      [class.fill-red-500]="isInWishlist"
      [class.text-gray-400]="!isInWishlist"
      [class.hover:text-red-500]="!isInWishlist"
      fill="none" 
      stroke="currentColor" 
      viewBox="0 0 24 24">
      <path 
        stroke-linecap="round" 
        stroke-linejoin="round" 
        stroke-width="2" 
        d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"/>
    </svg>
  </button>

  <!-- Product Image with Zoom Effect -->
  <a [routerLink]="['/products', product.id]" class="block relative overflow-hidden bg-gray-100">
    <div class="aspect-square overflow-hidden">
      <img 
        *ngIf="product.imageUrl" 
        [src]="product.imageUrl" 
        [alt]="product.name" 
        class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500 ease-out">
      <div 
        *ngIf="!product.imageUrl" 
        class="w-full h-full flex items-center justify-center text-gray-300 text-6xl">
        ðŸ“¦
      </div>
    </div>
    
    <!-- Sale Badge (if applicable) -->
    <div *ngIf="product.onSale" class="absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-xs font-bold shadow-lg animate-pulse">
      SALE
    </div>
  </a>

  <!-- Product Info -->
  <div class="p-5">
    <!-- Category Chip -->
    <div class="mb-2">
      <span class="inline-block px-3 py-1 bg-gradient-to-r from-blue-50 to-purple-50 text-blue-700 text-xs font-semibold rounded-full border border-blue-100">
        {{ product.categoryName || 'Uncategorized' }}
      </span>
    </div>

    <!-- Product Title -->
    <a [routerLink]="['/products', product.id]">
      <h3 class="text-lg font-bold text-gray-900 mb-2 line-clamp-2 hover:text-blue-600 transition-colors duration-200 min-h-[3.5rem]">
        {{ product.name }}
      </h3>
    </a>

    <!-- Rating Stars -->
    <div class="flex items-center gap-1 mb-3">
      <div class="flex">
        <svg 
          *ngFor="let filled of ratingStars" 
          class="w-4 h-4"
          [class.text-yellow-400]="filled"
          [class.text-gray-300]="!filled"
          fill="currentColor" 
          viewBox="0 0 20 20">
          <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
        </svg>
      </div>
      <span class="text-sm text-gray-600 ml-1">{{ rating.toFixed(1) }}</span>
    </div>

    <!-- Price and Add to Cart -->
    <div class="flex items-center justify-between gap-3 pt-3 border-t border-gray-100">
      <div>
        <p class="text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent">
          ${{ product.price }}
        </p>
        <p *ngIf="product.oldPrice" class="text-sm text-gray-400 line-through">
          ${{ product.oldPrice }}
        </p>
      </div>
      
      <button 
        (click)="addToCart($event)"
        class="group/btn flex items-center gap-2 px-4 py-2.5 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-300 shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95">
        <svg 
          class="w-5 h-5 transform group-hover/btn:rotate-12 transition-transform duration-300" 
          fill="none" 
          stroke="currentColor" 
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
        </svg>
        <span class="font-semibold text-sm">Add</span>
      </button>
    </div>
  </div>

  <!-- Quick View Overlay (appears on hover) -->
  <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 pointer-events-none flex items-end p-5">
    <p class="text-white text-sm line-clamp-2">{{ product.description }}</p>
  </div>
</div>
